<div class="principal-container">
    <div class="countdown-container">
        <p>{{ countdown }}</p>
    </div>
    <div class="form-container">
        <h2>ğŸ¦‡Formulario de asistencia a la fiesta de HalloweenğŸ¦‡</h2>
        <p class="subtitle">ğŸ°Castillo del Conde ChibiğŸ°</p>

        @if(mensajeExito) {
        <div class="mensaje-exito">
            {{ mensajeExito }}
        </div>
        }

        <form [formGroup]="formulario" (ngSubmit)="mostrar()">

            <!-- Nombre -->
            <label for="nombre">ğŸ‘¤ Nombre:</label>
            <input id="nombre" formControlName="nombre" placeholder="Introduce tu nombre"
                [class]="getCampoClases('nombre')">
            @if(formulario.controls['nombre'].touched && formulario.controls['nombre'].invalid) {
            <small class="error-message">
                @if(formulario.controls['nombre'].hasError('required')) {
                ğŸ‘»Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                }
                @if(formulario.controls['nombre'].hasError('minlength')) {
                ğŸ‘»Tu nombre debe tener al menos 3 caracteres
                }
            </small>
            }

            <!-- Email -->
            <label for="email">ğŸ“§ Email:</label>
            <input id="email" type="email" formControlName="email" placeholder="Introduce tu email"
                [class]="getCampoClases('email')">
            @if(formulario.controls['email'].touched && formulario.controls['email'].invalid) {
            <small class="error-message">
                @if(formulario.controls['email'].hasError('required')) {
                ğŸ‘»Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
                }
                @if(formulario.controls['email'].hasError('email')) {
                ğŸ©¸Este correo parece malditoâ€¦ revisa el formato.
                }
            </small>
            }

            <!-- Tipo de Invitado -->
            <label for="tipoInvitado">ğŸ§› Tipo de Invitado:</label>
            <select id="tipoInvitado" formControlName="tipoInvitado" [class]="getCampoClases('tipoInvitado')">
                <option value="">Selecciona tu especie...</option>
                @for(tipo of tiposInvitado; track tipo) {
                <option [value]="tipo">{{ tipo }}</option>
                }
            </select>
            @if(formulario.controls['tipoInvitado'].touched && formulario.controls['tipoInvitado'].invalid) {
            <small class="error-message">
                ğŸ‘»Â¡Debes seleccionar el tipo de criatura que eres... sino no llevaremos comida que puedas comer!
            </small>
            }

            <!-- Disfraz -->
            <label for="disfraz">ğŸ­ Disfraz:</label>
            <input id="disfraz" formControlName="disfraz" placeholder="Â¿De quÃ© irÃ¡s disfrazado?"
                [class]="getCampoClases('disfraz')">
            @if(formulario.controls['disfraz'].touched && formulario.controls['disfraz'].invalid) {
            <small class="error-message">
                ğŸ‘»Este campo da mÃ¡s miedo vacÃ­o, Â¡rellÃ©nalo!
            </small>
            }

            <!-- Fecha de Llegada -->
            <label for="fechaLlegada">ğŸ“… Fecha de Llegada:</label>
            <input id="fechaLlegada" type="date" formControlName="fechaLlegada"
                [class]="getCampoClases('fechaLlegada')">
            @if(formulario.controls['fechaLlegada'].touched && formulario.controls['fechaLlegada'].invalid) {
            <small class="error-message">
                @if(formulario.controls['fechaLlegada'].hasError('required')) {
                ğŸ‘»Â¡Necesitamos saber cuÃ¡ndo llegarÃ¡s al castillo!
                }
                @if(formulario.controls['fechaLlegada'].hasError('fechaTardia')) {
                ğŸ’€Â¡Demasiado tarde! La fiesta es el 31 de octubre. Si llegas despuÃ©s, ya habrÃ¡ terminado y las
                puertas del castillo estarÃ¡n cerradas para siempre...
                }
            </small>
            }
            <!-- Aceptar Reglas -->
            <div class="checkbox-container">
                <input id="aceptaReglas" type="checkbox" formControlName="aceptaReglas">
                <label for="aceptaReglas" class="checkbox-label">
                    ğŸ§›Prometo no morder a los demÃ¡s invitados
                </label>
            </div>
            @if(formulario.controls['aceptaReglas'].touched && formulario.controls['aceptaReglas'].invalid) {
            <small class="error-message">
                ğŸ©¸Â¡Debes aceptar las reglas del castillo!
            </small>
            }

            <div class="botones">
                <button type="submit" class="btn-enviar">ğŸƒEnviar InscripciÃ³n</button>
                <button type="button" (click)="resetear()" class="btn-resetear">ğŸ”„Resetear</button>
            </div>
        </form>

        <img src="/images/formularioHalloween/calabaza.png" alt="Calabaza" class="calabaza-decoracion">
        <img src="/images/formularioHalloween/vampiro.png" alt="Vampiro" class="vampiro-decoracion">
        <img src="/images/formularioHalloween/bruja.png" alt="Bruja" class="bruja-decoracion">
        <img src="/images/formularioHalloween/fantasma.png" alt="Fantasma" class="fantasma-decoracion">
    </div>
</div>